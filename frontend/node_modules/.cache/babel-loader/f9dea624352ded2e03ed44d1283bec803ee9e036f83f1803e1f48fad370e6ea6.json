{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\CP Problem Solver\\\\frontend\\\\src\\\\components\\\\VoiceInputButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Mic, MicOff } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceInputButton = ({\n  onTranscription,\n  isLoading\n}) => {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [audioLevel, setAudioLevel] = useState(0);\n  const [error, setError] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const animationFrameRef = useRef(null);\n  const startRecording = async () => {\n    try {\n      setError(null);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n\n      // Check supported formats\n      console.log('Supported MIME types:');\n      console.log('audio/wav:', MediaRecorder.isTypeSupported('audio/wav'));\n      console.log('audio/webm:', MediaRecorder.isTypeSupported('audio/webm'));\n      console.log('audio/mp4:', MediaRecorder.isTypeSupported('audio/mp4'));\n      console.log('audio/webm;codecs=opus:', MediaRecorder.isTypeSupported('audio/webm;codecs=opus'));\n\n      // Set up audio level monitoring\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      const source = audioContextRef.current.createMediaStreamSource(stream);\n      source.connect(analyserRef.current);\n      analyserRef.current.fftSize = 256;\n      const bufferLength = analyserRef.current.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength);\n      const updateAudioLevel = () => {\n        if (analyserRef.current && isRecording) {\n          analyserRef.current.getByteFrequencyData(dataArray);\n          const average = dataArray.reduce((acc, val) => acc + val, 0) / bufferLength;\n          setAudioLevel(average / 255);\n          animationFrameRef.current = requestAnimationFrame(updateAudioLevel);\n        }\n      };\n      updateAudioLevel();\n\n      // Use supported audio format\n      let mimeType = 'audio/webm';\n      if (MediaRecorder.isTypeSupported('audio/webm;codecs=opus')) {\n        mimeType = 'audio/webm;codecs=opus';\n      } else if (MediaRecorder.isTypeSupported('audio/mp4')) {\n        mimeType = 'audio/mp4';\n      }\n      console.log('Using MIME type:', mimeType);\n      mediaRecorderRef.current = new MediaRecorder(stream, {\n        mimeType\n      });\n      audioChunksRef.current = [];\n      mediaRecorderRef.current.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorderRef.current.onstop = async () => {\n        const mimeType = mediaRecorderRef.current.mimeType;\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: mimeType\n        });\n        console.log('Audio blob created:', {\n          size: audioBlob.size,\n          type: audioBlob.type,\n          mimeType: mimeType,\n          chunks: audioChunksRef.current.length\n        });\n\n        // Convert to base64\n        const reader = new FileReader();\n        reader.onloadend = async () => {\n          const base64Audio = reader.result.split(',')[1];\n          console.log('Base64 audio length:', base64Audio.length);\n\n          // Determine format for API\n          let format = 'webm';\n          if (mimeType.includes('mp4')) {\n            format = 'mp4';\n          } else if (mimeType.includes('wav')) {\n            format = 'wav';\n          }\n          try {\n            console.log('Sending transcription request with audio data length:', base64Audio.length);\n            const response = await fetch('http://localhost:5000/api/transcribe-audio', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                audio: base64Audio,\n                format: format\n              })\n            });\n            console.log('Response status:', response.status);\n            const result = await response.json();\n            console.log('Response data:', result);\n            if (!response.ok) {\n              throw new Error(`HTTP ${response.status}: ${result.error || 'Transcription failed'}`);\n            }\n            if (result.success && result.transcript) {\n              onTranscription(result.transcript);\n            } else {\n              setError(result.error || 'No speech detected. Please try again.');\n            }\n          } catch (err) {\n            console.error('Detailed transcription error:', err);\n            setError(`Failed to transcribe audio: ${err.message}`);\n          }\n        };\n        reader.readAsDataURL(audioBlob);\n\n        // Clean up\n        stream.getTracks().forEach(track => track.stop());\n        if (audioContextRef.current) {\n          audioContextRef.current.close();\n        }\n        if (animationFrameRef.current) {\n          cancelAnimationFrame(animationFrameRef.current);\n        }\n        setAudioLevel(0);\n      };\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n    } catch (err) {\n      console.error('Error starting recording:', err);\n      setError('Failed to access microphone. Please check permissions.');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n  };\n  const toggleRecording = () => {\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n  useEffect(() => {\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      if (audioContextRef.current) {\n        audioContextRef.current.close();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleRecording,\n      disabled: isLoading,\n      className: `p-2 rounded-lg transition-all duration-200 flex items-center justify-center ${isRecording ? 'bg-red-500 hover:bg-red-600 text-white shadow-lg' : 'bg-blue-500 hover:bg-blue-600 text-white shadow-md'} ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n      title: isRecording ? 'Stop recording' : 'Start voice input',\n      children: isRecording ? /*#__PURE__*/_jsxDEV(MicOff, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-red-500 animate-pulse\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-full rounded-full bg-red-400 transition-transform duration-100\",\n        style: {\n          transform: `scale(${1 + audioLevel})`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-full left-0 mt-2 p-2 bg-red-100 border border-red-300 rounded-lg text-sm text-red-700 whitespace-nowrap z-10\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"ml-2 text-red-500 hover:text-red-700\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceInputButton, \"8v6EWSQGdfq+g5ON8qZsZ2twi1M=\");\n_c = VoiceInputButton;\nexport default VoiceInputButton;\nvar _c;\n$RefreshReg$(_c, \"VoiceInputButton\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Mic","MicOff","jsxDEV","_jsxDEV","VoiceInputButton","onTranscription","isLoading","_s","isRecording","setIsRecording","audioLevel","setAudioLevel","error","setError","mediaRecorderRef","audioChunksRef","audioContextRef","analyserRef","animationFrameRef","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","console","log","MediaRecorder","isTypeSupported","current","window","AudioContext","webkitAudioContext","createAnalyser","source","createMediaStreamSource","connect","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","updateAudioLevel","getByteFrequencyData","average","reduce","acc","val","requestAnimationFrame","mimeType","ondataavailable","event","data","size","push","onstop","audioBlob","Blob","type","chunks","length","reader","FileReader","onloadend","base64Audio","result","split","format","includes","response","fetch","method","headers","body","JSON","stringify","status","json","ok","Error","success","transcript","err","message","readAsDataURL","getTracks","forEach","track","stop","close","cancelAnimationFrame","start","stopRecording","toggleRecording","className","children","onClick","disabled","title","fileName","_jsxFileName","lineNumber","columnNumber","style","transform","_c","$RefreshReg$"],"sources":["C:/Users/DELL/OneDrive/Desktop/CP Problem Solver/frontend/src/components/VoiceInputButton.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Mic, MicOff } from 'lucide-react';\r\n\r\nconst VoiceInputButton = ({ onTranscription, isLoading }) => {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [audioLevel, setAudioLevel] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const audioChunksRef = useRef([]);\r\n  const audioContextRef = useRef(null);\r\n  const analyserRef = useRef(null);\r\n  const animationFrameRef = useRef(null);\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      setError(null);\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      \r\n      // Check supported formats\r\n      console.log('Supported MIME types:');\r\n      console.log('audio/wav:', MediaRecorder.isTypeSupported('audio/wav'));\r\n      console.log('audio/webm:', MediaRecorder.isTypeSupported('audio/webm'));\r\n      console.log('audio/mp4:', MediaRecorder.isTypeSupported('audio/mp4'));\r\n      console.log('audio/webm;codecs=opus:', MediaRecorder.isTypeSupported('audio/webm;codecs=opus'));\r\n      \r\n      // Set up audio level monitoring\r\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\r\n      analyserRef.current = audioContextRef.current.createAnalyser();\r\n      const source = audioContextRef.current.createMediaStreamSource(stream);\r\n      source.connect(analyserRef.current);\r\n      \r\n      analyserRef.current.fftSize = 256;\r\n      const bufferLength = analyserRef.current.frequencyBinCount;\r\n      const dataArray = new Uint8Array(bufferLength);\r\n      \r\n      const updateAudioLevel = () => {\r\n        if (analyserRef.current && isRecording) {\r\n          analyserRef.current.getByteFrequencyData(dataArray);\r\n          const average = dataArray.reduce((acc, val) => acc + val, 0) / bufferLength;\r\n          setAudioLevel(average / 255);\r\n          animationFrameRef.current = requestAnimationFrame(updateAudioLevel);\r\n        }\r\n      };\r\n      \r\n      updateAudioLevel();\r\n\r\n      // Use supported audio format\r\n      let mimeType = 'audio/webm';\r\n      if (MediaRecorder.isTypeSupported('audio/webm;codecs=opus')) {\r\n        mimeType = 'audio/webm;codecs=opus';\r\n      } else if (MediaRecorder.isTypeSupported('audio/mp4')) {\r\n        mimeType = 'audio/mp4';\r\n      }\r\n      \r\n      console.log('Using MIME type:', mimeType);\r\n      mediaRecorderRef.current = new MediaRecorder(stream, { mimeType });\r\n      audioChunksRef.current = [];\r\n\r\n      mediaRecorderRef.current.ondataavailable = (event) => {\r\n        if (event.data.size > 0) {\r\n          audioChunksRef.current.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorderRef.current.onstop = async () => {\r\n        const mimeType = mediaRecorderRef.current.mimeType;\r\n        const audioBlob = new Blob(audioChunksRef.current, { type: mimeType });\r\n        console.log('Audio blob created:', {\r\n          size: audioBlob.size,\r\n          type: audioBlob.type,\r\n          mimeType: mimeType,\r\n          chunks: audioChunksRef.current.length\r\n        });\r\n        \r\n        // Convert to base64\r\n        const reader = new FileReader();\r\n        reader.onloadend = async () => {\r\n          const base64Audio = reader.result.split(',')[1];\r\n          console.log('Base64 audio length:', base64Audio.length);\r\n          \r\n          // Determine format for API\r\n          let format = 'webm';\r\n          if (mimeType.includes('mp4')) {\r\n            format = 'mp4';\r\n          } else if (mimeType.includes('wav')) {\r\n            format = 'wav';\r\n          }\r\n\r\n          try {\r\n            console.log('Sending transcription request with audio data length:', base64Audio.length);\r\n            const response = await fetch('http://localhost:5000/api/transcribe-audio', {\r\n              method: 'POST',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify({\r\n                audio: base64Audio,\r\n                format: format\r\n              }),\r\n            });            console.log('Response status:', response.status);\r\n            const result = await response.json();\r\n            console.log('Response data:', result);\r\n\r\n            if (!response.ok) {\r\n              throw new Error(`HTTP ${response.status}: ${result.error || 'Transcription failed'}`);\r\n            }\r\n\r\n            if (result.success && result.transcript) {\r\n              onTranscription(result.transcript);\r\n            } else {\r\n              setError(result.error || 'No speech detected. Please try again.');\r\n            }\r\n          } catch (err) {\r\n            console.error('Detailed transcription error:', err);\r\n            setError(`Failed to transcribe audio: ${err.message}`);\r\n          }\r\n        };\r\n        reader.readAsDataURL(audioBlob);\r\n\r\n        // Clean up\r\n        stream.getTracks().forEach(track => track.stop());\r\n        if (audioContextRef.current) {\r\n          audioContextRef.current.close();\r\n        }\r\n        if (animationFrameRef.current) {\r\n          cancelAnimationFrame(animationFrameRef.current);\r\n        }\r\n        setAudioLevel(0);\r\n      };\r\n\r\n      mediaRecorderRef.current.start();\r\n      setIsRecording(true);\r\n    } catch (err) {\r\n      console.error('Error starting recording:', err);\r\n      setError('Failed to access microphone. Please check permissions.');\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const toggleRecording = () => {\r\n    if (isRecording) {\r\n      stopRecording();\r\n    } else {\r\n      startRecording();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n      if (audioContextRef.current) {\r\n        audioContextRef.current.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={toggleRecording}\r\n        disabled={isLoading}\r\n        className={`p-2 rounded-lg transition-all duration-200 flex items-center justify-center ${\r\n          isRecording\r\n            ? 'bg-red-500 hover:bg-red-600 text-white shadow-lg'\r\n            : 'bg-blue-500 hover:bg-blue-600 text-white shadow-md'\r\n        } ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n        title={isRecording ? 'Stop recording' : 'Start voice input'}\r\n      >\r\n        {isRecording ? (\r\n          <MicOff className=\"w-4 h-4\" />\r\n        ) : (\r\n          <Mic className=\"w-4 h-4\" />\r\n        )}\r\n      </button>\r\n\r\n      {/* Audio level indicator */}\r\n      {isRecording && (\r\n        <div className=\"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-red-500 animate-pulse\">\r\n          <div \r\n            className=\"w-full h-full rounded-full bg-red-400 transition-transform duration-100\"\r\n            style={{ transform: `scale(${1 + audioLevel})` }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Error display */}\r\n      {error && (\r\n        <div className=\"absolute top-full left-0 mt-2 p-2 bg-red-100 border border-red-300 rounded-lg text-sm text-red-700 whitespace-nowrap z-10\">\r\n          {error}\r\n          <button\r\n            onClick={() => setError(null)}\r\n            className=\"ml-2 text-red-500 hover:text-red-700\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceInputButton;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}